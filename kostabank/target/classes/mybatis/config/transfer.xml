<?xml version="1.0" encoding="UTF-8"?>
<!-- Sql Mapper -->
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="transfer">
	<select id="checkBal" parameterType="transferVO" resultType="transferVO">
		select balance from kangbank_account 
		where accountno=#{accountno} 
	</select>
	
	<update id="deposit" parameterType="transferVO">
		update kangbank_account 
		set balance=balance+#{balance}
		where accountNo=#{accountNo} and accountPass=#{accountPass}
	</update>
	
	<update id="withdraw" parameterType="transferVO">
		update kangbank_account 
		set balance=balance-#{balance}
		where accountNo=#{accountNo} and accountPass=#{accountPass}
	</update>
	
	<select id="findAccountNoByEmail"  parameterType="string" resultType="HashMap">
	 	select k.accountNo from kangbank_account k , kangbank_customer c
	 	where k.email=c.email and c.email=#{email} and accountName='Kosta종합통장'
	</select>

	
</mapper>